import React, { useEffect } from 'react'
import { useSelector } from 'react-redux'
import Link from 'next/link'

const MiniCart = () => {

    const cart = useSelector(state => state.cart)
    const items = cart.orderedItems?.length

    useEffect(() => {

    }, [items])

    return (
        <div className="absolute left-8 top-[20vh] lg:top-20 hidden lg:block">
            <Link href='/cart'>
                <svg className='hover:scale-105 cursor-pointer transition-transform duration-100 easy-out' width="35" height="29" viewBox="0 0 35 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fillRule="evenodd" clipRule="evenodd" d="M13.321 4.96867C12.53 5.97883 12.25 7.24033 12.25 8.05556V9.66667H22.75V8.05556C22.75 7.23872 22.47 5.97883 21.6807 4.96867C20.9545 4.04067 19.7295 3.22222 17.5 3.22222C15.2705 3.22222 14.0455 4.04067 13.321 4.96867ZM26.25 9.66667V8.05556C26.25 6.72317 25.83 4.76244 24.521 3.08689C23.1455 1.32917 20.8705 0 17.5 0C14.1295 0 11.8545 1.32917 10.479 3.08689C9.17 4.76244 8.75 6.72317 8.75 8.05556V9.66667H1.75C1.28587 9.66667 0.840752 9.83641 0.512563 10.1386C0.184374 10.4407 0 10.8505 0 11.2778C0 11.7051 0.184374 12.1149 0.512563 12.417C0.840752 12.7191 1.28587 12.8889 1.75 12.8889H1.91625L3.50875 27.55C3.55213 27.9474 3.75431 28.3158 4.07605 28.5837C4.39779 28.8517 4.81616 29 5.25 29H29.75C30.1838 29 30.6022 28.8517 30.9239 28.5837C31.2457 28.3158 31.4479 27.9474 31.4913 27.55L33.0838 12.8889H33.25C33.7141 12.8889 34.1592 12.7191 34.4874 12.417C34.8156 12.1149 35 11.7051 35 11.2778C35 10.8505 34.8156 10.4407 34.4874 10.1386C34.1592 9.83641 33.7141 9.66667 33.25 9.66667H26.25ZM12.25 17.7222C12.25 17.2949 12.0656 16.8851 11.7374 16.583C11.4092 16.2809 10.9641 16.1111 10.5 16.1111C10.0359 16.1111 9.59075 16.2809 9.26256 16.583C8.93438 16.8851 8.75 17.2949 8.75 17.7222V20.9444C8.75 21.3717 8.93438 21.7815 9.26256 22.0837C9.59075 22.3858 10.0359 22.5556 10.5 22.5556C10.9641 22.5556 11.4092 22.3858 11.7374 22.0837C12.0656 21.7815 12.25 21.3717 12.25 20.9444V17.7222ZM19.25 17.7222C19.25 17.2949 19.0656 16.8851 18.7374 16.583C18.4092 16.2809 17.9641 16.1111 17.5 16.1111C17.0359 16.1111 16.5908 16.2809 16.2626 16.583C15.9344 16.8851 15.75 17.2949 15.75 17.7222V20.9444C15.75 21.3717 15.9344 21.7815 16.2626 22.0837C16.5908 22.3858 17.0359 22.5556 17.5 22.5556C17.9641 22.5556 18.4092 22.3858 18.7374 22.0837C19.0656 21.7815 19.25 21.3717 19.25 20.9444V17.7222ZM26.25 17.7222C26.25 17.2949 26.0656 16.8851 25.7374 16.583C25.4092 16.2809 24.9641 16.1111 24.5 16.1111C24.0359 16.1111 23.5908 16.2809 23.2626 16.583C22.9344 16.8851 22.75 17.2949 22.75 17.7222V20.9444C22.75 21.3717 22.9344 21.7815 23.2626 22.0837C23.5908 22.3858 24.0359 22.5556 24.5 22.5556C24.9641 22.5556 25.4092 22.3858 25.7374 22.0837C26.0656 21.7815 26.25 21.3717 26.25 20.9444V17.7222Z" fill="#A61508" />
                </svg>
            </Link>
            {items > 0 &&
                <span className="rounded-full bg-gray-100 ml-4 px-2 text-sm text-red absolute -top-2 left-[50%]">{items}</span>}

        </div>
    );
}

export default MiniCart;